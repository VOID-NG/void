# ================================
# VOID MARKETPLACE - ENVIRONMENT CONFIGURATION
# Copy this file to .env and fill in your values
# ================================

# üö® CRITICAL - REQUIRED VARIABLES
# These MUST be set for the application to work

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/void_marketplace?schema=public"

# JWT Security
JWT_SECRET="your-super-secure-jwt-secret-key-here-make-it-long-and-random"
JWT_REFRESH_SECRET="your-super-secure-refresh-secret-key-here-different-from-jwt"

# ================================
# üîß SERVER CONFIGURATION
# ================================

# Server Settings
NODE_ENV="development"
PORT=5000
HOST="0.0.0.0"

# Frontend URLs (comma-separated)
FRONTEND_URLS="http://localhost:3000,http://localhost:5173,http://localhost:8081"
FRONTEND_URL="http://localhost:3000"

# API Configuration
API_BASE_URL="http://localhost:5000"

# ================================
# üóÉÔ∏è DATABASE CONFIGURATION
# ================================

# Database Connection
DB_HOST="localhost"
DB_PORT=5432
DB_NAME="void_marketplace"
DB_USER="your_db_username"
DB_PASSWORD="your_db_password"

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000

# ================================
# üìß EMAIL CONFIGURATION
# ================================

# Email Service (gmail, outlook, sendgrid, mailgun, etc.)
EMAIL_SERVICE="gmail"
EMAIL_USER="your-email@gmail.com"
EMAIL_PASS="your-app-password"
EMAIL_FROM="noreply@voidmarketplace.com"

# SendGrid (Alternative)
# SENDGRID_API_KEY="your-sendgrid-api-key"

# Mailgun (Alternative)
# MAILGUN_API_KEY="your-mailgun-api-key"
# MAILGUN_DOMAIN="your-mailgun-domain"

# ================================
# üîê SECURITY CONFIGURATION
# ================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Settings
CORS_ORIGIN="*"
CORS_CREDENTIALS="true"

# Session Security
SESSION_SECRET="your-session-secret-key-here"
COOKIE_SECRET="your-cookie-secret-key-here"

# ================================
# üí≥ PAYMENT CONFIGURATION
# ================================

# Stripe
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret"

# Paystack (for Nigerian market)
PAYSTACK_SECRET_KEY="sk_test_your_paystack_secret_key"
PAYSTACK_PUBLIC_KEY="pk_test_your_paystack_public_key"

# ================================
# ‚òÅÔ∏è CLOUD STORAGE CONFIGURATION
# ================================

# Storage Type (local, s3, cloudinary)
STORAGE_TYPE="local"

# AWS S3
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="void-marketplace-uploads"

# Cloudinary
CLOUDINARY_CLOUD_NAME="your-cloudinary-cloud-name"
CLOUDINARY_API_KEY="your-cloudinary-api-key"
CLOUDINARY_API_SECRET="your-cloudinary-api-secret"

# CDN
CDN_URL="https://cdn.voidmarketplace.com"

# ================================
# ü§ñ AI & SEARCH CONFIGURATION
# ================================

# OpenAI
OPENAI_API_KEY="sk-your-openai-api-key"
OPENAI_MODEL="text-embedding-ada-002"

# Hugging Face
HUGGINGFACE_API_KEY="hf_your-huggingface-api-key"

# Search Settings
ENABLE_AI_SEARCH="true"
ENABLE_IMAGE_SEARCH="true"
ENABLE_3D_MODELS="true"
ENABLE_VIDEO_UPLOAD="true"

# Search Performance
SEARCH_RESULTS_LIMIT=100
SEARCH_CACHE_TTL=300
SIMILARITY_THRESHOLD=0.7

# ================================
# üì± PUSH NOTIFICATIONS
# ================================

# Firebase Cloud Messaging
FCM_SERVER_KEY="your-fcm-server-key"
FCM_PROJECT_ID="your-firebase-project-id"

# Apple Push Notifications
APNS_KEY_ID="your-apns-key-id"
APNS_TEAM_ID="your-apns-team-id"
APNS_BUNDLE_ID="com.voidmarketplace.app"

# ================================
# üìû SMS CONFIGURATION
# ================================

# Twilio
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"

# ================================
# üìä CACHING & PERFORMANCE
# ================================

# Redis
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD="your-redis-password"

# Cache Settings
CACHE_TTL=300
SEARCH_CACHE_TTL=600
USER_SESSION_TTL=86400

# ================================
# üìà MONITORING & LOGGING
# ================================

# Logging
LOG_LEVEL="info"
LOG_DB_QUERIES="false"

# Sentry (Error Tracking)
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# New Relic (Performance Monitoring)
NEW_RELIC_LICENSE_KEY="your-new-relic-license-key"
NEW_RELIC_APP_NAME="void-marketplace-api"

# ================================
# üîß FEATURE FLAGS
# ================================

# Core Features
ENABLE_REAL_TIME_CHAT="true"
ENABLE_NOTIFICATIONS="true"
ENABLE_ANALYTICS="true"
ENABLE_ADVANCED_FEATURES="false"

# File Upload Features
ENABLE_IMAGE_OPTIMIZATION="true"
ENABLE_VIDEO_PROCESSING="true"
ENABLE_3D_MODEL_SUPPORT="true"

# Business Features
ENABLE_ESCROW_SYSTEM="true"
ENABLE_VENDOR_VERIFICATION="true"
ENABLE_SUBSCRIPTION_PLANS="true"

# ================================
# üíº BUSINESS CONFIGURATION
# ================================

# Platform Fees
PLATFORM_FEE_PERCENTAGE=0.05
PAYMENT_PROCESSING_FEE=0.029

# Escrow Settings
ESCROW_RELEASE_DAYS=7
DISPUTE_RESOLUTION_DAYS=14

# File Limits
MAX_IMAGES_PER_LISTING=10
MAX_VIDEOS_PER_LISTING=1
MAX_3D_MODELS_PER_LISTING=3
MAX_FILE_SIZE_MB=100

# User Limits
MAX_LISTINGS_PER_USER=100
MAX_CHATS_PER_USER=50
MAX_TRANSACTIONS_PER_DAY=10

# ================================
# üß™ DEVELOPMENT & TESTING
# ================================

# Development Settings
ENABLE_API_DOCS="true"
ENABLE_ADMIN_ROUTES="true"
ENABLE_TEST_ROUTES="true"

# Testing
TEST_DATABASE_URL="postgresql://test_user:test_pass@localhost:5432/void_marketplace_test"

# Debug Settings
DEBUG_SQL_QUERIES="false"
DEBUG_SOCKET_EVENTS="false"
DEBUG_EMAIL_SENDING="false"

# ================================
# üè≠ PRODUCTION OVERRIDES
# ================================

# These settings are specifically for production
# Uncomment and modify for production deployment

# NODE_ENV="production"
# LOG_LEVEL="warn"
# RATE_LIMIT_MAX_REQUESTS=50
# ENABLE_TEST_ROUTES="false"
# DEBUG_SQL_QUERIES="false"

# Production Security
# HTTPS_ONLY="true"
# SECURE_COOKIES="true"
# TRUST_PROXY="true"

# ================================
# üåç LOCALIZATION
# ================================

# Default Settings
DEFAULT_LANGUAGE="en"
DEFAULT_CURRENCY="USD"
DEFAULT_TIMEZONE="America/New_York"

# Supported Locales
SUPPORTED_LANGUAGES="en,es,fr"
SUPPORTED_CURRENCIES="USD,EUR,NGN"

# ================================
# üîÑ BACKGROUND JOBS
# ================================

# Job Queue Settings
ENABLE_BACKGROUND_JOBS="true"
JOB_QUEUE_REDIS_URL="redis://localhost:6379/1"

# Job Concurrency
EMAIL_JOB_CONCURRENCY=5
IMAGE_PROCESSING_CONCURRENCY=3
CLEANUP_JOB_CONCURRENCY=1

# ================================
# üìã ADMIN CONFIGURATION
# ================================

# Admin Panel
ADMIN_EMAIL="admin@voidmarketplace.com"
ADMIN_PASSWORD="secure-admin-password"

# Super Admin Settings
SUPER_ADMIN_EMAIL="superadmin@voidmarketplace.com"
SUPER_ADMIN_SECRET="super-secret-admin-key"

# ================================
# üåê EXTERNAL SERVICES
# ================================

# Google Services
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Social Login
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"

# Analytics
GOOGLE_ANALYTICS_ID="GA-123456789-1"

# ================================
# üí° USAGE NOTES
# ================================

# 1. Copy this file to .env in your project root
# 2. Replace all placeholder values with your actual credentials
# 3. Never commit the .env file to version control
# 4. Use different values for development, staging, and production
# 5. Keep your secrets secure and rotate them regularly

# ================================
# üö® SECURITY WARNINGS
# ================================

# - Use strong, unique passwords for all services
# - Enable 2FA where possible
# - Regularly rotate API keys and secrets
# - Use environment-specific configurations
# - Monitor for suspicious activity
# - Keep all dependencies updated

============================================
# ================================
# VOID MARKETPLACE - PRODUCTION ENVIRONMENT CONFIGURATION
# Enterprise-level performance optimization settings
# ================================

# üö® CRITICAL - REQUIRED FOR PRODUCTION
NODE_ENV=production
PORT=5000
HOST=0.0.0.0

# ================================
# üóÑÔ∏è DATABASE PERFORMANCE OPTIMIZATION
# ================================

# Primary Database
DATABASE_URL="postgresql://username:password@localhost:5432/void_marketplace?schema=public&connection_limit=50&pool_timeout=30&statement_timeout=30000"

# Read Replicas for Performance (comma-separated)
DATABASE_READ_REPLICAS="postgresql://username:password@replica1:5432/void_marketplace,postgresql://username:password@replica2:5432/void_marketplace"

# Database Pool Configuration
DB_CONNECTION_LIMIT=50
DB_POOL_TIMEOUT=30
DB_SCHEMA_CACHE_SIZE=100
DB_QUERY_CACHE_SIZE=1000
DB_STATEMENT_TIMEOUT=30000
DB_QUERY_TIMEOUT=20000

# ================================
# üîê SECURITY CONFIGURATION
# ================================

# JWT Security (Generate strong secrets in production)
JWT_SECRET="your-production-jwt-secret-minimum-256-bits-long"
JWT_REFRESH_SECRET="your-production-refresh-secret-different-from-jwt"
JWT_ACCESS_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# Session Security
SESSION_SECRET="your-production-session-secret-key"
COOKIE_SECRET="your-production-cookie-secret-key"

# API Security
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=100
API_ENABLE_SECURITY_HEADERS=true

# ================================
# üöÄ PERFORMANCE OPTIMIZATION
# ================================

# Memory Management
NODE_OPTIONS="--max-old-space-size=4096 --max-semi-space-size=256"
UV_THREADPOOL_SIZE=16

# Cache Configuration
L1_CACHE_SIZE=2000
L1_CACHE_TTL=300
L2_CACHE_TTL=3600
DB_CACHE_SIZE=10000

# Compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Connection Limits
MAX_CONNECTIONS_PER_IP=10
SOCKET_IO_MAX_CONNECTIONS=5000

# ================================
# ‚òÅÔ∏è REDIS PERFORMANCE CONFIGURATION
# ================================

# Redis Connection
REDIS_URL="redis://username:password@redis-host:6379/0"
REDIS_HOST="redis-cluster-host"
REDIS_PORT=6379
REDIS_PASSWORD="your-redis-password"
REDIS_DB=0

# Redis Performance Tuning
REDIS_MAX_MEMORY_POLICY="allkeys-lru"
REDIS_CONNECTION_POOL_SIZE=20
REDIS_COMMAND_TIMEOUT=5000
REDIS_CONNECT_TIMEOUT=10000

# ================================
# üí≥ PAYMENT SYSTEM CONFIGURATION
# ================================

# Stripe (Production)
STRIPE_SECRET_KEY="sk_live_your_production_stripe_secret"
STRIPE_PUBLISHABLE_KEY="pk_live_your_production_stripe_publishable"
STRIPE_WEBHOOK_SECRET="whsec_your_production_webhook_secret"
STRIPE_API_VERSION="2023-10-16"

# Payment Processing
PLATFORM_FEE_PERCENTAGE=0.05
PAYMENT_PROCESSING_FEE=0.029
ESCROW_RELEASE_DAYS=7
DISPUTE_RESOLUTION_DAYS=14

# ================================
# üåê CDN AND STORAGE CONFIGURATION
# ================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="void-marketplace-production"
AWS_CLOUDFRONT_DOMAIN="your-cloudfront-domain.cloudfront.net"

# File Upload Limits
MAX_FILE_SIZE_MB=100
MAX_IMAGES_PER_LISTING=10
MAX_VIDEOS_PER_LISTING=1
MAX_3D_MODELS_PER_LISTING=3

# Image Optimization
ENABLE_IMAGE_OPTIMIZATION=true
IMAGE_QUALITY=85
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080

# ================================
# ü§ñ AI AND SEARCH OPTIMIZATION
# ================================

# OpenAI Configuration
OPENAI_API_KEY="your-openai-api-key"
OPENAI_ORGANIZATION="your-openai-org-id"
OPENAI_MODEL="gpt-4"

# Hugging Face
HUGGINGFACE_API_KEY="your-huggingface-api-key"

# Vector Search Performance
VECTOR_SEARCH_CACHE_TTL=3600
VECTOR_SIMILARITY_THRESHOLD=0.7
VECTOR_SEARCH_LIMIT=50
PRECOMPUTE_SIMILARITIES=true

# Search Performance
SEARCH_RESULTS_CACHE_TTL=900
SEARCH_AUTOCOMPLETE_CACHE_TTL=1800
ENABLE_SEARCH_ANALYTICS=true

# ================================
# üìß EMAIL CONFIGURATION
# ================================

# Email Service (Choose one)
EMAIL_SERVICE="sendgrid"
EMAIL_FROM="noreply@voidmarketplace.com"

# SendGrid (Recommended for production)
SENDGRID_API_KEY="your-sendgrid-api-key"
SENDGRID_TEMPLATE_ID_WELCOME="d-your-template-id"
SENDGRID_TEMPLATE_ID_RESET="d-your-template-id"

# Email Performance
EMAIL_QUEUE_CONCURRENCY=10
EMAIL_RETRY_ATTEMPTS=3
EMAIL_BATCH_SIZE=100

# ================================
# üì± MOBILE AND PUSH NOTIFICATIONS
# ================================

# Firebase (for push notifications)
FIREBASE_PROJECT_ID="your-firebase-project"
FIREBASE_PRIVATE_KEY="your-firebase-private-key"
FIREBASE_CLIENT_EMAIL="your-firebase-service-account-email"

# Push Notification Settings
ENABLE_PUSH_NOTIFICATIONS=true
PUSH_NOTIFICATION_BATCH_SIZE=1000

# ================================
# üìä MONITORING AND LOGGING
# ================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_FILES=10
LOG_MAX_SIZE=100mb

# Error Tracking
SENTRY_DSN="your-sentry-dsn"
SENTRY_ENVIRONMENT=production
SENTRY_SAMPLE_RATE=0.1

# Performance Monitoring
NEW_RELIC_LICENSE_KEY="your-new-relic-license"
NEW_RELIC_APP_NAME="void-marketplace-api"
ENABLE_PERFORMANCE_MONITORING=true

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# ================================
# üîí SSL AND SECURITY
# ================================

# SSL Configuration
FORCE_HTTPS=true
SSL_CERT_PATH="/path/to/ssl/cert.pem"
SSL_KEY_PATH="/path/to/ssl/private.key"

# Security Headers
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
ENABLE_CSP=true

# CORS Configuration
CORS_ORIGIN="https://yourdomain.com,https://www.yourdomain.com"
CORS_CREDENTIALS=true

# ================================
# üåç FRONTEND URLS
# ================================

FRONTEND_URL="https://yourdomain.com"
FRONTEND_URLS="https://yourdomain.com,https://www.yourdomain.com"
ADMIN_DASHBOARD_URL="https://admin.yourdomain.com"

# ================================
# üîß ADVANCED PERFORMANCE TUNING
# ================================

# Socket.IO Performance
SOCKET_IO_PING_TIMEOUT=60000
SOCKET_IO_PING_INTERVAL=25000
SOCKET_IO_MAX_HTTP_BUFFER_SIZE=1000000
SOCKET_IO_COMPRESSION=true

# API Performance
API_RESPONSE_COMPRESSION=true
API_ETAG_ENABLED=true
API_CACHE_CONTROL_MAX_AGE=300

# Database Query Optimization
ENABLE_QUERY_LOGGING=false
SLOW_QUERY_THRESHOLD=1000
ENABLE_QUERY_CACHE=true

# Memory Optimization
GARBAGE_COLLECTION_INTERVAL=300000
MEMORY_THRESHOLD_WARNING=85
MEMORY_THRESHOLD_CRITICAL=95

# ================================
# üéØ FEATURE FLAGS
# ================================

# Core Features
ENABLE_REAL_TIME_CHAT=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_ADVANCED_SEARCH=true

# AI Features
ENABLE_AI_SEARCH=true
ENABLE_AI_RECOMMENDATIONS=true
ENABLE_AI_CONTENT_MODERATION=true

# Performance Features
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_CONNECTION_POOLING=true
ENABLE_BATCH_PROCESSING=true

# Security Features
ENABLE_TWO_FACTOR_AUTH=true
ENABLE_LOGIN_MONITORING=true
ENABLE_SUSPICIOUS_ACTIVITY_DETECTION=true

# Business Features
ENABLE_ESCROW_SYSTEM=true
ENABLE_VENDOR_VERIFICATION=true
ENABLE_SUBSCRIPTION_PLANS=true
ENABLE_PROMOTIONAL_CODES=true

# ================================
# üß™ LOAD TESTING CONFIGURATION
# ================================

# Load Testing Limits
MAX_CONCURRENT_USERS=10000
MAX_REQUESTS_PER_SECOND=1000
MAX_DATABASE_CONNECTIONS=200

# Performance Thresholds
RESPONSE_TIME_THRESHOLD_MS=500
ERROR_RATE_THRESHOLD_PERCENT=1
CPU_USAGE_THRESHOLD_PERCENT=80
MEMORY_USAGE_THRESHOLD_PERCENT=85

# ================================
# üîÑ BACKUP AND RECOVERY
# ================================

# Database Backup
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET="void-marketplace-backups"

# File Backup
ENABLE_FILE_BACKUPS=true
FILE_BACKUP_SCHEDULE="0 3 * * 0"

# ================================
# üöÄ DEPLOYMENT CONFIGURATION
# ================================

# Container Configuration
DOCKER_MEMORY_LIMIT=4g
DOCKER_CPU_LIMIT=2
KUBERNETES_REPLICAS=3

# Scaling Configuration
AUTO_SCALING_ENABLED=true
MIN_REPLICAS=2
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=70

# Health Checks
READINESS_PROBE_PATH="/api/v1/health"
LIVENESS_PROBE_PATH="/api/v1/health"
STARTUP_PROBE_TIMEOUT=30

# ================================
# üìà ANALYTICS AND METRICS
# ================================

# User Analytics
ENABLE_USER_TRACKING=true
ANALYTICS_SAMPLING_RATE=0.1
USER_SESSION_TIMEOUT=1800000

# Business Metrics
ENABLE_BUSINESS_METRICS=true
REVENUE_TRACKING=true
CONVERSION_TRACKING=true

# Performance Metrics
ENABLE_PERFORMANCE_METRICS=true
METRICS_COLLECTION_INTERVAL=60000
METRICS_RETENTION_DAYS=90

# ================================
# üîß OPTIMIZATION FLAGS
# ================================

# Database Optimization
ENABLE_CONNECTION_POOLING=true
ENABLE_PREPARED_STATEMENTS=true
ENABLE_QUERY_OPTIMIZATION=true

# Cache Optimization
ENABLE_MULTI_LEVEL_CACHE=true
ENABLE_CACHE_WARMING=true
ENABLE_CACHE_COMPRESSION=true

# Network Optimization
ENABLE_HTTP2=true
ENABLE_KEEPALIVE=true
ENABLE_GZIP_COMPRESSION=true

# ================================
# üéõÔ∏è DEBUGGING (Disable in production)
# ================================

# Debug Settings (Set to false in production)
DEBUG_MODE=false
ENABLE_DEBUG_ROUTES=false
VERBOSE_LOGGING=false
ENABLE_QUERY_DEBUGGING=false

# Development Tools (Disable in production)
ENABLE_HOT_RELOAD=false
ENABLE_DEVELOPMENT_MIDDLEWARE=false
EXPOSE_STACK_TRACES=false